services:
  svxlink:
    build:
      context: .
      dockerfile: Dockerfile
    container_name: svxlink
    restart: unless-stopped
    # privileged: true

    ports:
      - "5300:5300"   # svxreflectors
      - "5198:5198/udp"   # EchoLink
      - "5199:5199/udp"   # EchoLink
      - "5200:5200/tcp"   # EchoLink


    environment:
      - TZ=Europe/Paris
      - START_SVXLINK=1
      - START_REMOTETRX=0
      - START_SVXREFLECTOR=0
      - SVXLINK_CONF=/etc/svxlink/svxlink.conf
      - REMOTETRX_CONF=/etc/svxlink/remotetrx.conf
      - SVXREFLECTOR_CONF=/etc/svxlink/svxreflector.conf
      - SVXLINK_ARGS=
      - REMOTETRX_ARGS=
      - SVXREFLECTOR_ARGS=

    volumes:
      # Config
      - ./config/etc/svxlink:/etc/svxlink
      - ./config/usr/share/svxlink:/usr/share/svxlink
      # - ./config/share/sounds:/usr/share/svxlink/sounds

      # Logs (optionnel)
      - ./logs:/var/log/svxlink

      # Donn√©es (optionnel)
      - ./data:/var/lib/svxlink

    # Sound card and GPIO access (optionnel)
    # devices:
      # - /dev/snd:/dev/snd
      # - /dev/gpiochip0:/dev/gpiochip0

    # (Optionnel) USB/RTL-SDR
    #   - /dev/bus/usb:/dev/bus/usb
